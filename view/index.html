<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>{{ .username }}'s Todo List</title>
  </head>
  <body class="flex items-center justify-center h-screen bg-blue-400">
    <div class="p-5 bg-white shadow-xl">
      <h1 class="text-4xl font-semibold">{{ .username }}'s Todo List</h1>
      <hr class="mt-3 border-slate-400" />
      <form action="/">
        <ul class="my-4 text-lg">
          {{ range $val := .tasks }}
          <li class="flex items-center gap-2">
            {{ if eq .done "true" }}
            <input
              class="block w-4 h-4"
              type="checkbox"
              name="{{ .task }}"
              checked
            />
            <p class="inline-block"><s>{{ .task }}</s></p>
            {{ else }}
            <input class="block w-4 h-4" type="checkbox" name="{{ .task }}" />
            <p class="inline-block">{{ .task }}</p>
            {{ end }}
          </li>
          {{ else }}
          <p>Task is empty</p>
          {{ end }}
        </ul>
        <div class="flex gap-2">
          {{ $length := len .tasks }} {{ if gt $length 0 }}
          <button
            type="submit"
            class="inline-block p-2 mt-4 font-semibold text-white transition duration-200 rounded-lg bg-slate-900 hover:bg-slate-700"
          >
            Update
          </button>
          {{ end }}
          <a
            class="inline-block p-2 mt-4 font-semibold text-white transition duration-200 bg-blue-600 rounded-lg hover:bg-blue-500"
            href="/task/add"
            >Add Task</a
          >
        </div>
      </form>
    </div>
  </body>
</html>
